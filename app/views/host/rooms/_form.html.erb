<div data-controller="room">

  <template data-room-target="bedFields">
    <label for="room_type" class="block text-sm font-medium text-gray-700">Bed Size</label>
    <select id="room_type" name="room[beds_attributes][][bed_size]" class="block w-full py-2 pl-3 pr-10 mt-1 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
      <% Bed.bed_sizes.each do |bed_size, _| %> 
        <option> <%= bed_size %> </option>
      <% end %>
    </select>
  </template>


  <form action="<%= host_listing_rooms_path(listing) %>" method="post">
    <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
    <label for="room_type" class="block text-sm font-medium text-gray-700">Room type</label>
    <select id="room_type" name="room[room_type]" class="block w-full py-2 pl-3 pr-10 mt-1 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
      <% Room.room_types.each do |rt, _| %> 
        <option> <%= rt %> </option>
      <% end %>
    </select>

<fieldset data-room-target="beds">
  <legend>Beds</legend>
  
</fieldset>

    <p>
      <a href="#" data-action="room#addBed">Add a Bed</a>
    </p>

    <input type="submit" value="Add Room">
  </form>
</div>
